(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[196],{5253:(e,n,s)=>{Promise.resolve().then(s.bind(s,7875))},7875:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>l});var t=s(2860),r=s(4836),i=s(2662),a=s(1084),o=s(4612),d=s.n(o);function l(){return(0,t.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-8 sm:p-24",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Tensor Decoding"}),(0,t.jsx)("div",{className:"w-full max-w-4xl mb-8",children:(0,t.jsxs)(i.Zp,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-6",children:[(0,t.jsx)("div",{className:"md:w-1/2 p-4",children:(0,t.jsx)(a.default,{src:"/images/dogs.png",alt:"Tensor Decoding",width:400,height:300,className:"rounded-md"})}),(0,t.jsxs)("div",{className:"md:w-1/2 p-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Objective"}),(0,t.jsx)("p",{className:"mb-4",children:"Convert the existence and location tensors back into bounding box proposals for visualization and evaluation."}),(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Setup"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 mb-4",children:[(0,t.jsx)("li",{children:"Load existence and location tensors generated in the previous step"}),(0,t.jsx)("li",{children:"Apply a confidence threshold to filter predictions"}),(0,t.jsx)("li",{children:"Scale coordinates back to original image dimensions"})]})]})]}),(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Implementation Details"}),(0,t.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-6 overflow-auto",children:(0,t.jsx)("pre",{className:"text-sm",children:'def decode_tensors(existence, location, original_w, original_h, threshold=THRESHOLD):\n    """\n    Converts tensors back into bounding boxes by thresholding on the confidence map.\n\n    Args:\n        existence (ndarray): Existence tensor from model output.\n        location (ndarray): Location tensor from model output.\n        original_w (int): Width of the original image.\n        original_h (int): Height of the original image.\n        threshold (float): Confidence threshold to keep predicted boxes.\n\n    Returns:\n        boxes (list): List of decoded boxes in [cx, cy, w, h, confidence].\n    """\n    boxes = set([])\n    \n    # Iterate through each grid cell\n    for i in range(GRID_NUMBER):\n        for j in range(GRID_NUMBER):\n            # Check if the existence score is above the threshold\n            if existence[j, i, 0] > threshold:\n                # Get the location data for this cell\n                x_center, y_center, width, height = location[j, i]\n                \n                # Scale the coordinates back to the original image size\n                scaled_x = x_center * original_w / TARGET_SIZE\n                scaled_y = y_center * original_h / TARGET_SIZE\n                scaled_w = width * original_w / TARGET_SIZE\n                scaled_h = height * original_h / TARGET_SIZE\n                \n                # Add the box with its confidence score\n                boxes.add((scaled_x, scaled_y, scaled_w, scaled_h, float(existence[j, i, 0])))\n    \n    return list(boxes)'})}),(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Process"}),(0,t.jsxs)("ol",{className:"list-decimal pl-5 mb-6",children:[(0,t.jsx)("li",{className:"mb-2",children:"Iterate over each grid cell in the existence tensor"}),(0,t.jsxs)("li",{className:"mb-2",children:["If Existence[row, col, 0] ",">"," threshold, decode the location tensor at that cell"]}),(0,t.jsx)("li",{className:"mb-2",children:"Convert [x_center, y_center, width, height] to original image scale"}),(0,t.jsx)("li",{className:"mb-2",children:"Store the decoded box along with its confidence score"})]}),(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Output"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 mb-6",children:[(0,t.jsx)("li",{children:"A list of decoded bounding boxes in the format [x_center, y_center, width, height, confidence]"}),(0,t.jsx)("li",{children:"Each box is scaled to the original image dimensions"})]}),(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Example Output"}),(0,t.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-6",children:(0,t.jsx)("pre",{className:"text-sm",children:"Decoded boxes for b8aac263-cats:\n[x_center=341.5, y_center=287.1, width=320.3, height=230.9, conf=1.00]\n[x_center=618.9, y_center=282.8, width=331.2, height=454.5, conf=1.00]"})}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(d(),{href:"/ground-truth-generation",children:(0,t.jsx)(r.$,{variant:"outline",children:"Previous: Ground Truth Generation"})}),(0,t.jsx)(d(),{href:"/anchor-encoding",children:(0,t.jsx)(r.$,{children:"Next: Anchor-Based Encoding"})})]})]})})]})}},4836:(e,n,s)=>{"use strict";s.d(n,{$:()=>l});var t=s(2860),r=s(3200),i=s(4933),a=s(1073),o=s(2979);let d=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,n)=>{let{className:s,variant:r,size:a,asChild:l=!1,...c}=e,h=l?i.DX:"button";return(0,t.jsx)(h,{className:(0,o.cn)(d({variant:r,size:a,className:s})),ref:n,...c})});l.displayName="Button"},2662:(e,n,s)=>{"use strict";s.d(n,{Zp:()=>a});var t=s(2860),r=s(3200),i=s(2979);let a=r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:n,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...r})});a.displayName="Card",r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:n,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:n,className:(0,i.cn)("font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:n,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription",r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:n,className:(0,i.cn)("p-6 pt-0",s),...r})}).displayName="CardContent",r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:n,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},2979:(e,n,s)=>{"use strict";s.d(n,{cn:()=>i});var t=s(9769),r=s(2460);function i(){for(var e=arguments.length,n=Array(e),s=0;s<e;s++)n[s]=arguments[s];return(0,r.QP)((0,t.$)(n))}}},e=>{var n=n=>e(e.s=n);e.O(0,[395,84,685,411,358],()=>n(5253)),_N_E=e.O()}]);