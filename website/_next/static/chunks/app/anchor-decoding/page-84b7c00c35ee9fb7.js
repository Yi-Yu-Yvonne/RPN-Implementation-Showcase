(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{4173:(e,s,n)=>{Promise.resolve().then(n.bind(n,6939))},6939:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>o});var r=n(2860),a=n(4836),i=n(2662),d=n(1084),t=n(4612),c=n.n(t);function o(){return(0,r.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-8 sm:p-24",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Anchor-Based Decoding"}),(0,r.jsx)("div",{className:"w-full max-w-4xl mb-8",children:(0,r.jsxs)(i.Zp,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-6",children:[(0,r.jsx)("div",{className:"md:w-1/2 p-4",children:(0,r.jsx)(d.default,{src:"/images/dolphins.png",alt:"Anchor-Based Decoding",width:400,height:300,className:"rounded-md"})}),(0,r.jsxs)("div",{className:"md:w-1/2 p-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Objective"}),(0,r.jsx)("p",{className:"mb-4",children:"Decode anchor-based existence and location tensors back into bounding box proposals using the predicted offsets and anchor configurations."}),(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Setup"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 mb-4",children:[(0,r.jsx)("li",{children:"Load anchor-based existence and location tensors"}),(0,r.jsx)("li",{children:"Use the same anchor shapes as in the encoding step"}),(0,r.jsx)("li",{children:"Apply a confidence threshold to filter predictions"})]})]})]}),(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Implementation Details"}),(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-6 overflow-auto",children:(0,r.jsx)("pre",{className:"text-sm",children:'def decode_anchor_grid_predictions(existence, location, anchor_shape, original_size, threshold):\n    """\n    Decodes predicted anchor-based bounding box outputs from a grid-based format.\n    """\n    boxes = set()\n    original_w, original_h = original_size\n    ws, hs = anchor_shape\n    \n    # Iterate through each grid cell\n    for i in range(GRID_NUMBER):\n        for j in range(GRID_NUMBER):\n            # Check if the existence score is above the threshold\n            if existence[j, i, 0] {\'>\'} threshold:\n                # Get the predicted offsets\n                dx, dy, dw, dh = location[j, i]\n                \n                # Calculate the anchor center coordinates\n                patch_cx = i * PATCH_SIZE + PATCH_SIZE / 2\n                patch_cy = j * PATCH_SIZE + PATCH_SIZE / 2\n                \n                # Calculate the anchor dimensions\n                anchor_w = PATCH_SIZE * ws\n                anchor_h = PATCH_SIZE * hs\n                \n                # Apply offsets to get the predicted box\n                pred_cx = patch_cx + dx\n                pred_cy = patch_cy + dy\n                pred_w = anchor_w + dw\n                pred_h = anchor_h + dh\n                \n                # Scale to original image size\n                scaled_cx = pred_cx * original_w / TARGET_SIZE\n                scaled_cy = pred_cy * original_h / TARGET_SIZE\n                scaled_w = pred_w * original_w / TARGET_SIZE\n                scaled_h = pred_h * original_h / TARGET_SIZE\n                \n                # Add the box with its confidence score\n                boxes.add((scaled_cx, scaled_cy, scaled_w, scaled_h, float(existence[j, i, 0])))\n    \n    return boxes'})}),(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Process"}),(0,r.jsxs)("ol",{className:"list-decimal pl-5 mb-6",children:[(0,r.jsxs)("li",{className:"mb-2",children:["For each anchor shape and each patch location:",(0,r.jsx)("ul",{className:"list-disc pl-5 mt-1",children:(0,r.jsxs)("li",{children:["If Existence[row, col, 0] ",">"," threshold:",(0,r.jsxs)("ul",{className:"list-disc pl-5 mt-1",children:[(0,r.jsx)("li",{children:"Compute the anchor center (patch center)"}),(0,r.jsx)("li",{children:"Compute the anchor dimensions based on anchor shape and patch size"}),(0,r.jsx)("li",{children:"Apply the predicted offsets [dx, dy, dw, dh] to get the decoded box"}),(0,r.jsx)("li",{children:"Scale the decoded box from resized image (200x200) to original image size"})]})]})})]}),(0,r.jsx)("li",{className:"mb-2",children:"Combine all decoded boxes from all anchor shapes"})]}),(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Output"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 mb-6",children:[(0,r.jsx)("li",{children:"A set of decoded bounding boxes in the format [x_center, y_center, width, height, confidence]"}),(0,r.jsx)("li",{children:"Each box is scaled to the original image dimensions"})]}),(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:"Example Output"}),(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-6",children:(0,r.jsx)("pre",{className:"text-sm",children:"Decoded boxes for abf444d4-dolphins:\n[x_center=374.3, y_center=449.2, width=278.4, height=191.8, conf=1.00]\n[x_center=695.6, y_center=446.6, width=209.3, height=349.6, conf=1.00]"})}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)(c(),{href:"/anchor-encoding",children:(0,r.jsx)(a.$,{variant:"outline",children:"Previous: Anchor-Based Encoding"})}),(0,r.jsx)(c(),{href:"/non-maximum-suppression",children:(0,r.jsx)(a.$,{children:"Next: Non-Maximum Suppression"})})]})]})})]})}},4836:(e,s,n)=>{"use strict";n.d(s,{$:()=>o});var r=n(2860),a=n(3200),i=n(4933),d=n(1073),t=n(2979);let c=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,s)=>{let{className:n,variant:a,size:d,asChild:o=!1,...l}=e,h=o?i.DX:"button";return(0,r.jsx)(h,{className:(0,t.cn)(c({variant:a,size:d,className:n})),ref:s,...l})});o.displayName="Button"},2662:(e,s,n)=>{"use strict";n.d(s,{Zp:()=>d});var r=n(2860),a=n(3200),i=n(2979);let d=a.forwardRef((e,s)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",n),...a})});d.displayName="Card",a.forwardRef((e,s)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...a})}).displayName="CardHeader",a.forwardRef((e,s)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight",n),...a})}).displayName="CardTitle",a.forwardRef((e,s)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",n),...a})}).displayName="CardDescription",a.forwardRef((e,s)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",n),...a})}).displayName="CardContent",a.forwardRef((e,s)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",n),...a})}).displayName="CardFooter"},2979:(e,s,n)=>{"use strict";n.d(s,{cn:()=>i});var r=n(9769),a=n(2460);function i(){for(var e=arguments.length,s=Array(e),n=0;n<e;n++)s[n]=arguments[n];return(0,a.QP)((0,r.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[395,84,685,411,358],()=>s(4173)),_N_E=e.O()}]);